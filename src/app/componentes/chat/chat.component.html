<body class="body">

    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow">
        <h5 class="my-0 mr-md-auto font-weight-normal">Sala de Juegos</h5>
        <nav class="my-2 my-md-0 mr-md-3">
          <a class="p-2 text-dark" routerLink="/">Home</a>

          <div *ngIf="userLogueado | async as user">
            <nav class="my-2 my-md-0 mr-md-3">
              <a class="p-2 text-dark" routerLink="/encuesta">Encuesta</a>
            </nav>
          </div>
    
        </nav>
  
      <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white" *ngIf="userLogueado | async as user">
        <h5 class="my-0 mr-md-auto font-weight-normal">Bienvenidx <i>{{ (userLogueado | async)?.email}}</i> !!  </h5>
        <nav class="my-2 my-md-0 mr-md-3">
          <a class="btn btn-outline-primary" (click)='Logout()'>Logout</a>
          </nav> 
      </div>
    </div>

    <div class="pricing-header mx-auto text-center">
        <h1 class="display-4">Chat</h1>    
        <hr>
    </div>
    
    <!-- <div class="container main-container"   class="card-deck mb-3 text-center" class= "row justify-content-around">
      <div class="chat-window" class= "card mb-4 col-sm-6"> -->
    <div class="container main-container row justify-content-around" >
      <div class="chat-window col-sm-6">
        <div class="app-mensajes">
          <div *ngFor="let chat of chat.chatsEmail" [ngClass]="{ 'text-right': auth.usuario.uid == chat.uid }">
            <span class="badge" [ngClass]="{ 'badge-primary': auth.usuario.uid == chat.uid,
            'badge-success': auth.usuario.uid != chat.uid }">
              {{ chat.nombre }} {{ chat.fecha | date: 'd/M/yy, h:mm a' }}
            </span> 
            <p> {{ chat.texto }} </p>
          </div>
        </div>

        <input class="form-control" type="text" [(ngModel)]="mensaje" placeholder="Mensaje">
        <button class="btn btn-primary" (click)="enviarMensaje()">Enviar mensaje</button>
      </div>

      <div class="chat-window">
        <div class="app-mensajes col-sm-6">
          <div *ngFor="let chat of chat.chats" [ngClass]="{ 'text-right': auth.usuario.uid == chat.uid }">
            <span class="badge" [ngClass]="{ 'badge-primary': auth.usuario.uid == chat.uid,
                                                'badge-success': auth.usuario.uid != chat.uid }">
              {{ chat.nombre }} {{ chat.fecha | date: 'd/M/yy, h:mm a' }}
            </span> 
            <p> {{ chat.texto }} </p>
          </div>
        </div>

      </div>

    </div>
  </body>
